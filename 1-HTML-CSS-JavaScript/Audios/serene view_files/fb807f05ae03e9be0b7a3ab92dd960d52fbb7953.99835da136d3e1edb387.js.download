(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"0Z6S":function(e,t,n){"use strict";var r=n("6CzD"),a=n("0942"),o=n("hisu"),i=n("yBJb"),s=n("kMo5"),l=n("P+uj"),u=n("CHlC"),c=n("mXGw"),d=n.n(c),h=n("0II3"),p=n.n(h),f=!0,m="Invariant failed";var v=function(e,t){if(!e){if(f)throw new Error(m);throw new Error(m+": "+(t||""))}};function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b=new Map,C=new Map,S=new Map,V=0;function k(e,t,n){void 0===n&&(n={}),n.threshold||(n.threshold=0);var r=n,a=r.root,o=r.rootMargin,i=r.threshold;if(b.has(e)&&v(!1),e){var s=function(e){return e?S.has(e)?S.get(e):(V+=1,S.set(e,V.toString()),S.get(e)+"_"):""}(a)+(o?i.toString()+"_"+o:i.toString()),l=C.get(s);l||(l=new IntersectionObserver(M,n),s&&C.set(s,l));var u={callback:t,element:e,inView:!1,observerId:s,observer:l,thresholds:l.thresholds||(Array.isArray(i)?i:[i])};return b.set(e,u),l.observe(e),u}}function O(e){if(e){var t=b.get(e);if(t){var n=t.observerId,r=t.observer,a=r.root;r.unobserve(e);var o=!1,i=!1;n&&b.forEach((function(t,r){r!==e&&(t.observerId===n&&(o=!0,i=!0),t.observer.root===a&&(i=!0))})),!i&&a&&S.delete(a),r&&!o&&r.disconnect(),b.delete(e)}}}function M(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio,r=e.target,a=b.get(r);if(a&&n>=0){var o=a.thresholds.some((function(e){return a.inView?n>e:n>=e}));void 0!==t&&(o=o&&t),a.inView=o,a.callback(o,e)}}))}var j=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return g(y(t=e.call.apply(e,[this].concat(r))||this),"state",{inView:!1,entry:void 0}),g(y(t),"node",null),g(y(t),"handleNode",(function(e){t.node&&(O(t.node),e||t.props.triggerOnce||t.setState({inView:!1,entry:void 0})),t.node=e||null,t.observeNode()})),g(y(t),"handleChange",(function(e,n){(e!==t.state.inView||e)&&t.setState({inView:e,entry:n}),t.props.onChange&&t.props.onChange(e,n)})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.node||v(!1)},a.componentDidUpdate=function(e,t){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold||(O(this.node),this.observeNode()),t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&(O(this.node),this.node=null)},a.componentWillUnmount=function(){this.node&&(O(this.node),this.node=null)},a.observeNode=function(){if(this.node){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin;k(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r})}},a.render=function(){var e=this.state,t=e.inView,n=e.entry;if(!function(e){return"function"!==typeof e.children}(this.props))return this.props.children({inView:t,entry:n,ref:this.handleNode});var r=this.props,a=r.children,o=r.as,i=r.tag,s=(r.triggerOnce,r.threshold,r.root,r.rootMargin,r.onChange,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange"]));return Object(c.createElement)(o||i||"div",w({ref:this.handleNode},s),a)},r}(c.Component);g(j,"displayName","InView"),g(j,"defaultProps",{threshold:0,triggerOnce:!1});var P=n("IrJT"),x=n.n(P),T=n("vCQb"),I=n("fa2H"),N=n("H3BB"),L=n("9WEo"),_=n.n(L),H=d.a.createElement,W=function(){return H("div",{className:_.a.wrapper},H("svg",{xmlns:"http://www.w3.org/2000/svg",width:"62",height:"48",fill:"none",viewBox:"0 0 31 24",className:_.a.musicWaveIconWrapper},H("path",{d:"M0 5.81362C0 5.44143 0.301721 5.13971 0.673913 5.13971C1.04611 5.13971 1.34783 5.44143 1.34783 5.81362V11.6812H0V5.81362Z"}),H("path",{d:"M2.69568 3.01015C2.69568 2.63796 2.9974 2.33624 3.36959 2.33624C3.74178 2.33624 4.0435 2.63796 4.0435 3.01016V11.6812H2.69568V3.01015Z"}),H("path",{d:"M5.3913 0.673913C5.3913 0.301721 5.69302 0 6.06521 0C6.4374 0 6.73912 0.301721 6.73912 0.673913V11.6812H5.3913V0.673913Z"}),H("path",{d:"M8.08698 3.01015C8.08698 2.63796 8.3887 2.33624 8.76089 2.33624C9.13308 2.33624 9.4348 2.63796 9.4348 3.01016V11.6812H8.08698V3.01015Z"}),H("path",{d:"M10.7826 5.81362C10.7826 5.44143 11.0843 5.13971 11.4565 5.13971C11.8287 5.13971 12.1304 5.44143 12.1304 5.81362V11.6812H10.7826V5.81362Z"}),H("path",{d:"M13.4783 9.08431C13.4783 8.71212 13.78 8.4104 14.1522 8.4104C14.5244 8.4104 14.8261 8.71212 14.8261 9.08431V11.6811H13.4783V9.08431Z"}),H("path",{d:"M31 17.5487C31 17.9209 30.6983 18.2226 30.3261 18.2226C29.9539 18.2226 29.6522 17.9209 29.6522 17.5487V11.6811H31V17.5487Z"}),H("path",{d:"M28.3043 20.3521C28.3043 20.7243 28.0026 21.0261 27.6304 21.0261C27.2582 21.0261 26.9565 20.7243 26.9565 20.3521V11.6811H28.3043V20.3521Z"}),H("path",{d:"M25.6087 22.6884C25.6087 23.0606 25.307 23.3623 24.9348 23.3623C24.5626 23.3623 24.2609 23.0606 24.2609 22.6884V11.6811H25.6087V22.6884Z"}),H("path",{d:"M22.913 20.3521C22.913 20.7243 22.6113 21.0261 22.2391 21.0261C21.8669 21.0261 21.5652 20.7243 21.5652 20.3521V11.6811H22.913V20.3521Z"}),H("path",{d:"M20.2174 17.5487C20.2174 17.9209 19.9157 18.2226 19.5435 18.2226C19.1713 18.2226 18.8696 17.9209 18.8696 17.5487V11.6811H20.2174V17.5487Z"}),H("path",{d:"M17.5217 14.278C17.5217 14.6502 17.22 14.9519 16.8478 14.9519C16.4756 14.9519 16.1739 14.6502 16.1739 14.278V11.6812H17.5217V14.278Z"})))},D=n("wfd4"),A=n("Buo5"),F=d.a.createElement,B=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.links,n=e.itemId,r=e.maxStringLength,a=0,o=[],i=[];t.map((function(e){(a+=e.title.length)>r?i.push(e):o.push(e)}));var s=Object(D.itemShareUrl)({itemId:n,itemType:"music"});return F("div",{className:x.a.itemLinks},o.map((function(e){return F(T.a,{className:x.a.itemLink,key:e.title,to:e.url},e.title)})),F("div",{className:x.a.itemLinksMore},F("div",{className:x.a.itemLinksMorePopout},i.map((function(e){return F(T.a,{className:x.a.itemHiddenLink,key:e.title,to:e.url},e.title)})),F("div",{className:x.a.itemShare},F(I.a,{itemType:"music",itemId:n,shareUrl:s,shareContext:"musicDropdown"})))))}}]),t}(d.a.Component),U=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={loading:!1,playing:!1,trackLength:0,progress:0,waveFormLoadingHasBeenCalled:!1},n.handleTogglePlay=n.handleTogglePlay.bind(Object(a.a)(n)),n.handleCleanupOnAnotherPlay=n.handleCleanupOnAnotherPlay.bind(Object(a.a)(n)),n.loadWaveFormData=n.loadWaveFormData.bind(Object(a.a)(n)),n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleCleanupOnAnotherPlay",value:function(){this.wavesurfer&&this.wavesurfer.pause()}},{key:"handleTogglePlay",value:function(){var e=this.state.playing,t=this.props.itemId;e?(delete window.currentWaveSurferCleanup,this.wavesurfer.pause()):(window.currentWaveSurferCleanup&&window.currentWaveSurferCleanup!==this.handleCleanupOnAnotherPlay&&window.currentWaveSurferCleanup(),this.wavesurfer.play(),window.currentWaveSurferCleanup=this.handleCleanupOnAnotherPlay,window.ga&&window.ga("send","event",{eventCategory:"Music Preview",eventAction:"play",eventLabel:t,transport:""}))}},{key:"loadWaveFormData",value:function(){var e=this;if(!this.state.waveFormLoadingHasBeenCalled){this.setState({loading:!0,waveFormLoadingHasBeenCalled:!0});var t=this.props,r=t.itemId,a=t.itemData,o=n("7amy");this.wavesurfer=o.create({container:this.waveWrapper,barWidth:1,barHeight:.005,barMinHeight:1,barGap:2,fillParent:!0,hideScrollbar:!0,pixelRatio:2,scrollParent:!1,backend:"MediaElement",normalize:!1,waveColor:"#000000",progressColor:"transparent",loaderColor:"transparent",cursorColor:"transparent",backgroundColor:"transparent",responsive:!0,autoCenter:!0,height:100}),p()(Object(D.musicWaveformUrl)({itemId:r,urlSlug:a.urlSlug})).then((function(t){t.json().then((function(t){e.wavesurfer.load(Object(D.musicPreviewMp3Url)({itemId:r,urlSlug:a.urlSlug}),t.data,"metadata"),e.wavesurfer.on("ready",(function(){e.setState({loading:!1,trackLength:e.wavesurfer.backend.getDuration()})})),e.wavesurfer.on("finish",(function(){e.setState({playing:!1})})),e.wavesurfer.on("pause",(function(){e.setState({playing:!1})})),e.wavesurfer.on("play",(function(){e.setState({playing:!0})})),e.wavesurfer.on("seek",(function(t){var n=e.state.playing;e.setState({progress:100*t}),n||e.handleTogglePlay()})),e.wavesurfer.backend.on("audioprocess",(function(t){var n=e.state.trackLength;e.setState({progress:parseInt(t/n*1e3,10)/10})}))})).catch((function(e){}))})).catch((function(e){}))}}},{key:"componentWillUnmount",value:function(){this.wavesurfer&&this.wavesurfer.destroy()}},{key:"shouldComponentUpdate",value:function(e,t,n){var r=this.state,a=r.progress,o=r.playing,i=r.loading;return t.progress!==a||t.playing!==o||t.loading!==i}},{key:"render",value:function(){var e=this,t=this.state,n=t.progress,a=t.playing,o=t.loading,i=t.waveFormLoadingHasBeenCalled,s=this.props,l=s.itemId,u=s.itemData,c=s.variant,d=Object(D.itemShareUrl)({itemId:l,itemType:"music"});return F("div",{className:"".concat(x.a.wrapper," ").concat(a?" ".concat(x.a.playing):"")},F(j,null,(function(t){var r=t.inView,a=t.ref;return r&&!i&&window.setTimeout(e.loadWaveFormData,0),F("div",{ref:a,className:x.a.waveWrapper,style:{backgroundColor:"#".concat(u.genre.categoryColor)}},F("div",{ref:function(t){e.waveWrapper=t},className:x.a.wave},o?F(W,null):null),F("div",{className:x.a.itemDuration},Object(A.a)(u.duration)),F("button",{onClick:e.handleTogglePlay,className:x.a.playPauseButton},F("div",{className:x.a.playPauseIcon})),F("div",{className:x.a.waveProgressBar,style:{left:"".concat(n,"%")}}))})),F("div",{className:x.a.itemDetails},F("h3",{className:x.a.itemTitle},u.title),F("p",{className:x.a.itemAuthor},"by ",u.author.name),F("div",{className:x.a.itemFooter},F(B,{itemId:l,links:[{url:Object(D.musicTaxonomyLink)({taxonomy:"genre",urlSlug:u.genre.urlSlug}),title:u.genre.name}].concat(Object(r.a)(u.tags.map((function(e){return{url:Object(D.musicTaxonomyLink)({taxonomy:"tag",urlSlug:e.urlSlug}),title:e.name}}))),Object(r.a)(u.moods.map((function(e){return{url:Object(D.musicTaxonomyLink)({taxonomy:"mood",urlSlug:e.urlSlug}),title:e.name}})))),maxStringLength:"card"===c?28:200}),F("div",{className:x.a.itemDownload},F(N.a,{itemId:l,itemType:"music",downloadUrl:Object(D.musicDownloadUrl)({itemId:l,urlSlug:u.urlSlug}),shareUrl:d,shareContext:"musicDownloadModal",variant:"thumbnail"})))))}}]),t}(d.a.Component);U.defaultProps={variant:"card"};t.a=U},"9WEo":function(e,t,n){e.exports={wrapper:"_1wMA-",musicWaveIconWrapper:"_1_JAn",musicWaveIcon:"_2zqtP"}},Buo5:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return d}));var r=n("wfd4"),a=function(e){return e.join(", ").replace(/, ([^,]*)$/," and $1")},o=function(e){if(e>0){var t=Math.floor(e/60),n=e-60*t;return"PT".concat(t,"M").concat(n,"S")}return null},i=function(e){if(e>0){var t=Math.floor(e/60),n=e-60*t;return"".concat(t,":").concat("".concat(n).padStart(2,"0"))}return null},s={en:{superLongVideoSuffix:" - Free Stock Video - Mixkit",longVideoSuffix:" - Free Stock Video",shortVideoSuffix:" - Free Video",superShortVideoSuffix:" - Mixkit",artPrefix:"Free Art - "}},l=function(e){var t=e.itemTitle,n=e.languageCode,r=void 0===n?"en":n,a=t.replace(/[^ 0-9a-zA-Z\xc0-\xff]+/,"");return a.length<42?"".concat(a).concat(s[r].superLongVideoSuffix):a.length<51?"".concat(a).concat(s[r].longVideoSuffix):a.length<58?"".concat(a).concat(s[r].shortVideoSuffix):"".concat(a).concat(s[r].superShortVideoSuffix)},u=function(e){var t=e.itemTitle,n=e.languageCode,r="".concat(s[void 0===n?"en":n].artPrefix).concat(t.replace(/[^ 0-9a-zA-Z\xc0-\xff]+/,""));return r.length>70?r:"".concat(r," - Mixkit")},c=function(e){var t=e.itemTitle,n=e.itemDescription,r=e.itemType,o=e.isElementsUpsellItem,i=e.videoTags;e.languageCode;if("video"===r){var s=i.slice(0,3).map((function(e){return e.name}));return n="Download the free".concat(o?" ":" HD ","stock video - ").concat(t,". This video features ").concat(a(s),". Available for free on Mixkit.co.")}return n},d=function(e){var t=e.itemType,n=e.itemTitle,a=null;return"video"===t&&(a={name:"Free Stock Video",url:Object(r.getFullUrlFromPath)(Object(r.getItemTypePath)({itemType:t}))}),[{name:"Mixkit",url:"https://mixkit.co"},a,{name:n,url:null}].filter(Boolean)}},IrJT:function(e,t,n){e.exports={wrapper:"_2VApp",playing:"_1tO43",playPauseButton:"_2G1hW",playPauseIcon:"_1Sb9m",waveWrapper:"AHuNu",wave:"_2vLu2",waveProgressBar:"_3cUry",itemDuration:"_1fFsf",itemDetails:"_3lCon",itemTitle:"To8OM",itemAuthor:"_2CTpA",itemFooter:"_20fwo",itemLinks:"dtVdP",itemLink:"o9sXT",itemLinksMore:"_1_CVj",itemLinksMorePopout:"_2gX_h",itemHiddenLink:"_1RLTn",itemShare:"_1OSDM",itemDownload:"_2YFCk"}}}]);